import{a as p}from"./chunk-ZVAHVC77.js";import{a as M}from"./chunk-BZPY3R5F.js";import{a as y,b as d,c as A,d as C,e as T,f as D,g as N,j as _,k as E,m as G,o as V}from"./chunk-W4TJDPBM.js";import{a as q}from"./chunk-5I5XZVIT.js";import{g as P}from"./chunk-5NPNKZ3O.js";import"./chunk-VE6ZJ4JM.js";import{J as g,Jb as w,Pa as f,Sa as r,Xb as m,Zb as F,aa as o,ec as S,fb as b,fc as x,pa as c,qb as v,rb as h,vb as l,wb as t,xb as i,yb as u}from"./chunk-VRT4WXDD.js";function k(a,n){a&1&&u(0,"span",10)}var R=class a{authenticationService=o(p);toastService=o(q);router=o(P);currentTheme=o(M).currentTheme;loading=c(!1);forgetPasswordForm=new T({email:new D("",{nonNullable:!0,validators:[d.required,d.email]})});get emailControl(){return this.forgetPasswordForm.get("email")}sendEmailHandler(){if(this.forgetPasswordForm.valid){if(this.loading())return;this.loading.set(!0),this.authenticationService.forgetPassword(this.forgetPasswordForm.getRawValue().email).pipe(g(()=>this.loading.set(!1))).subscribe({next:()=>{this.toastService.addToast({id:Date.now(),type:"success",title:"\u0646\u062C\u0627\u062D",message:"\u062A\u0645 \u0627\u0644\u0627\u0631\u0633\u0627\u0644 \u0628\u0646\u062C\u0627\u062D \u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0628\u0631\u064A\u062F\u0643 \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A"}),this.router.navigate(["/"])},error:n=>{this.toastService.addToast({id:Date.now(),type:"error",title:"\u062D\u062F\u062B \u062E\u0637\u0627 \u0645\u0627",message:n.message})}})}else this.forgetPasswordForm.markAllAsTouched()}static \u0275fac=function(s){return new(s||a)};static \u0275cmp=b({type:a,selectors:[["app-forget-password"]],hostAttrs:[1,"basis-full","lg:basis-1/2"],features:[x([p])],decls:15,vars:6,consts:[[1,"flex","flex-col","gap-6","bg-custom-background-1","pt-10","pb-6","lg:py-16","px-4","lg:px-10","xl:px-16","2xl:px-23"],[1,"self-center","w-29","h-3.5","lg:w-auto","lg:h-auto",3,"src"],[1,"flex","flex-col","gap-4","lg:gap-6",3,"ngSubmit","formGroup"],[1,"mb-6"],["for","user-email",1,"text-sm","lg:text-base","text-body-5","block","mb-2"],[1,"w-full","input","input-lg","validator","bg-base-600"],["formControlName","email","id","user-email","type","email","required","",1,"text-right"],[1,"iconify","ic--outline-email","text-2xl","text-base-content"],[1,"validator-hint","hidden"],["type","submit",1,"w-1/2","mx-auto","btn","btn-primary",3,"disabled"],[1,"loading","loading-spinner"]],template:function(s,e){s&1&&(t(0,"section",0),u(1,"img",1),t(2,"form",2),w("ngSubmit",function(){return e.sendEmailHandler()}),t(3,"div",3)(4,"label",4),m(5,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),i(),t(6,"div",5),u(7,"input",6)(8,"span",7),i(),t(9,"div",8),m(10),i()(),t(11,"button",9)(12,"span"),m(13,"\u0627\u0631\u0633\u0627\u0644"),i(),v(14,k,1,0,"span",10),i()()()),s&2&&(r(),l("src",S("images/logo-",e.currentTheme(),".svg"),f),r(),l("formGroup",e.forgetPasswordForm),r(8),F(" ",!(e.emailControl==null||e.emailControl.errors==null)&&e.emailControl.errors.required?"\u0627\u0644\u0627\u064A\u0645\u064A\u0644 \u0645\u0637\u0644\u0648\u0628":"\u0627\u0644\u0627\u064A\u0645\u064A\u0644 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D"," "),r(),l("disabled",e.loading()),r(3),h(e.loading()?14:-1))},dependencies:[V,N,y,A,C,G,_,E],encapsulation:2})};export{R as ForgetPassword};
