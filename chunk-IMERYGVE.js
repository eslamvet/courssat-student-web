import{a as q}from"./chunk-T3QA4RIM.js";import{a as E}from"./chunk-I7EQPO3Y.js";import{a as O}from"./chunk-7TNCB6PQ.js";import"./chunk-UFZCB36N.js";import"./chunk-P6OX5KW3.js";import{a as A}from"./chunk-7PAKQCDZ.js";import{a as N}from"./chunk-TWUZI4X4.js";import{d as H}from"./chunk-WOQCCJWR.js";import{i as j}from"./chunk-6ZKRTSRO.js";import{Fb as k,Jb as y,Lb as l,Sa as o,Vb as M,Xb as u,Yb as V,a as d,aa as _,b as m,bc as z,cc as F,dc as g,fa as f,fb as I,fc as P,ga as C,kc as T,nc as B,pa as x,pb as L,qb as b,rb as h,sb as D,tb as S,ub as w,vb as c,wb as s,xb as r,yb as p}from"./chunk-QEG7R3DB.js";function R(t,i){if(t&1&&(s(0,"h2",7),u(1),r(),p(2,"img",8)),t&2){l();let e=g(0);o(),V(e.name)}}function G(t,i){t&1&&p(0,"div",9)(1,"div",10)}function J(t,i){if(t&1&&p(0,"app-course-card",3),t&2){let e=i.$implicit;c("course",e)}}function K(t,i){t&1&&(s(0,"div",4)(1,"span"),u(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0643\u0648\u0631\u0633\u0627\u062A \u062D\u0627\u0644\u064A\u0627\u064B \u0644\u0647\u0630\u0627 \u0627\u0644\u0642\u0633\u0645."),r()())}function Q(t,i){if(t&1){let e=k();s(0,"input",13),y("change",function(){let a=f(e).$implicit,v=l(2);return C(a!=="..."&&v.paginateHandler(+a-1))}),r()}if(t&2){let e=i.$implicit;l(2);let n=g(0);M("btn-disabled",e==="..."),c("checked",n.pagination.current_page===+e-1),L("aria-label",e)}}function U(t,i){if(t&1){let e=k();s(0,"div",5)(1,"button",11),y("click",function(){f(e);let a=l();return C(a.page()>0&&a.paginateHandler(a.page()-1))}),u(2," \xAB "),r(),S(3,Q,1,4,"input",12,D),T(5,"paginator"),s(6,"button",11),y("click",function(){f(e);let a=l(),v=g(0);return C(a.page()<v.pagination.total_pages&&a.paginateHandler(a.page()+1))}),u(7," \xBB "),r()()}if(t&2){let e=l(),n=g(0);o(),c("disabled",e.page()==0),o(2),w(B(5,2,n.pagination.total_count,e.size(),e.page())),o(3),c("disabled",e.page()==n.pagination.total_pages-1)}}function W(t,i){t&1&&p(0,"div",6)}var $=class t{route=_(H);courseService=_(E);toastService=_(N);courseDepartmentSignal=x({list:Array(12)});page=x(0);size=x(12);ngOnInit(){this.getCoursesByDepartmentHandler()}getCoursesByDepartmentHandler(){let i=A.find(e=>e.path.includes(this.route.snapshot.params.categoryId))??A[0];this.courseService.getAllCoursesByDepartmentId(i.id).subscribe({next:e=>{this.courseDepartmentSignal.set(m(d({},i),{list:e,pagination:{current_page:0,total_count:e.length,total_pages:Math.ceil(e.length/this.size()),total_items:e.length}}))},error:e=>{this.toastService.addToast({id:Date.now(),type:"error",title:"\u062D\u062F\u062B \u062E\u0637\u0627 \u0645\u0627",message:e.message})}})}paginateHandler(i){this.page.set(i),this.courseDepartmentSignal.update(e=>m(d({},e),{pagination:m(d({},e.pagination),{current_page:i})}))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=I({type:t,selectors:[["app-category"]],features:[P([E])],decls:12,vars:8,consts:[[1,"container","flex","flex-col","gap-7","lg:gap-10","py-14"],[1,"flex","items-center","flex-col"],[1,"grid","grid-cols-2","md:grid-cols-3","xl:grid-cols-4","gap-2.5","lg:gap-5"],[3,"course"],["role","alert",1,"col-span-4","alert","alert-info","justify-center","alert-soft"],[1,"join","self-center"],[1,"skeleton","self-center","w-4/5","lg:w-1/4","h-6","lg:h-10"],[1,"text-2xl","lg:text-[45px]","text-body-5","font-bold"],["src","images/check.svg",1,"w-20.5","lg:w-auto"],[1,"skeleton","w-3/4","lg:w-1/6","h-8","lg:h-14","mb-3"],[1,"skeleton","w-17","lg:w-28","h-6","lg:h-10"],[1,"join-item","btn","btn-square",3,"click","disabled"],["type","radio",1,"join-item","btn","btn-square",3,"checked","btn-disabled"],["type","radio",1,"join-item","btn","btn-square",3,"change","checked"]],template:function(e,n){if(e&1&&(z(0),s(1,"section",0)(2,"div",1),b(3,R,3,1)(4,G,2,0),r(),s(5,"div",2),S(6,J,1,1,"app-course-card",3,D,!1,K,3,0,"div",4),T(9,"slice"),r(),b(10,U,8,6,"div",5)(11,W,1,0,"div",6),r()),e&2){let a=F(n.courseDepartmentSignal());o(3),h(a.name?3:4),o(3),w(B(9,4,a.list,n.page()*n.size(),n.page()*n.size()+n.size())),o(4),h(a.pagination?10:11)}},dependencies:[O,j,q],encapsulation:2})};export{$ as Category};
