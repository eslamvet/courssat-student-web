@let packages = allPackages(); @let currentPage = page(); @let pages =
packages.length|paginator:size():currentPage;
<section class="container flex flex-col gap-7 lg:gap-10 py-14">
  <div class="flex items-center flex-col">
    <h2 class="text-2xl lg:text-[45px] text-body-5 font-bold">الباقات</h2>
    <img class="w-20.5 lg:w-auto" src="/images/check.svg" />
  </div>
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8">
    @for(package of packages|slice:currentPage*size():currentPage*size()+size();track $index){
    <app-package-card [packageInput]="package" />
    } @empty {
    <div role="alert" class="col-span-4 alert alert-info justify-center alert-soft">
      <span>لا توجد باقات حاليا.</span>
    </div>
    }
  </div>
  @if(pages){ @if(pages.length){
  <div class="join self-center">
    <button
      class="join-item btn btn-square"
      [disabled]="currentPage == 0"
      (click)="currentPage > 0 && paginateHandler(currentPage - 1)"
    >
      «
    </button>
    @for(page of pages;track $index){
    <button
      class="join-item btn btn-square"
      [disabled]="page === '...'"
      [class.bg-primary]="page === currentPage + 1"
      (click)="page !== '...' && paginateHandler(+page - 1)"
    >
      {{ page }}
    </button>
    }
    <button
      class="join-item btn btn-square"
      [disabled]="currentPage == pages.length - 1"
      (click)="currentPage < pages.length && paginateHandler(currentPage + 1)"
    >
      »
    </button>
  </div>
  } } @else{
  <div class="skeleton self-center w-4/5 lg:w-1/4 h-6 lg:h-10"></div>
  }
</section>
